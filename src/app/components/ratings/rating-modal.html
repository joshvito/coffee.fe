<form [formGroup]="form" class="m-4" (ngSubmit)="onSave()">
  <div class="mb-3">
    <label for="rating" class="form-label">Rating *</label>
    <input id="rating" class="form-control" formControlName="rating" type="number" min="0" max="5"
      [class.is-invalid]="form.get('rating')?.invalid && form.get('rating')?.touched" />
  </div>

  <div class="mb-3" *ngFor="let key of optionalKeys">
    <label [attr.for]="key" class="form-label">{{key | titlecase}}</label>
    <input [id]="key" class="form-control" [formControlName]="key" type="number" min="0" max="5"
      [class.is-invalid]="form.get(key)?.invalid && form.get(key)?.touched" />
  </div>

  <div class="mb-3">
    <label for="notes" class="form-label">Notes</label>
    <textarea id="notes" class="form-control" formControlName="notes" rows="4" maxlength="255"
      [class.is-invalid]="form.get('notes')?.invalid && form.get('notes')?.touched"></textarea>
  </div>

  <div class="d-grid gap-2">
    <button class="btn btn-primary" [disabled]="form.invalid">Save</button>
    <button type="button" class="btn btn-outline-primary" (click)="onClose()">Close</button>
  </div>
</form>
